import { useContext } from "react";
import { useStore } from "zustand";
import { WorkspaceContext, type WorkspaceState } from "./store";

export function useWorkspaceContext<T>(selector: (state: WorkspaceState) => T): T {
  const store = useContext(WorkspaceContext);

  if (!store) {
    throw new Error("Missing WorkspaceContext.Provider in the tree");
  }

  return useStore(store, selector);
}
